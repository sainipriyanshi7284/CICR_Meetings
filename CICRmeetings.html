<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CICR Management Portal</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="cicr.css">
</head>
<body>
<canvas id="particles-canvas"></canvas>
<div id="splash-screen">
    <img src="https://media.licdn.com/dms/image/v2/D560BAQHZvHdAAzLOxg/company-logo_200_200/company-logo_200_200/0/1705683330825/cicrjiit128_logo?e=1767225600&v=beta&t=SAJZZCC-p-7Eab0gESU8kj_i4CPzBKTbzeloh0kRUQc" 
         alt="CICR Logo" 
         id="splash-screen-logo">
    <p>Creativity Innovation Cell in Robotics</p>
</div>

<div id="success-screen" style="display: none;">
    <div class="success-icon">ðŸ”“</div>
    <div class="success-text">ACCESS GRANTED<br><span style="color:white; font-size: 20px;">CONGRATULATIONS</span></div>
    <div class="success-subtext">WELCOME TO CICR COMMAND CENTER</div>
</div>

<div id="action-success-overlay">
    <div class="success-container">
        <span class="robot-emoji">ðŸ¤–</span>
        <span class="big-green-tick">âœ“</span>
        <div class="success-message">DATA LOGGED SUCCESSFULLY</div>
    </div>
</div>

<div class="container">
	<div class="header-branding" role="banner">
		<img src="https://media.licdn.com/dms/image/v2/D560BAQHZvHdAAzLOxg/company-logo_200_200/company-logo_200_200/0/1705683330825/cicrjiit128_logo?e=1767225600&v=beta&t=SAJZZCC-p-7Eab0gESU8kj_i4CPzBKTbzeloh0kRUQc" alt="CICR Organization Logo" class="header-logo header-logo-left">
		<img src="https://media.licdn.com/dms/image/v2/D560BAQHZvHdAAzLOxg/company-logo_200_200/company-logo_200_200/0/1705683330825/cicrjiit128_logo?e=1767225600&v=beta&t=SAJZZCC-p-7Eab0gESU8kj_i4CPzBKTbzeloh0kRUQc" alt="CICR Organization Logo" class="header-logo header-logo-right">
		
        <div id="user-avatar-display" title="My Profile">?</div>

		<h1>CICR <span>MANAGEMENT</span> PORTAL</h1>
        <p style="margin:0; font-size:14px; color: var(--color-accent-dim); letter-spacing: 1px;">Creativity Innovation Cell in Robotics</p>
		<div id="digital-clock">Loading...</div>

		<div class="tracker-title" style="display: none;"></div>
		<p class="designer-credit">SYSTEM DESIGNED BY KUMAR SHAURYA</p>
	</div>

	<div id="login-screen" style="display: none;">
		<div id="login-form-card" class="energy-frame">
			<h2 id="auth-title">AUTHORIZED ACCESS</h2>
			<form id="login-form">
				<div>
					<label for="username" id="label-user">Email or Phone No.</label>
					<input type="text" id="username" required placeholder="Enter Email/Phone (or Master ID)">
				</div>
                
                <div id="registration-fields">
                    <div style="margin-bottom: 20px;">
                        <label for="reg-name">Full Name</label>
                        <input type="text" id="reg-name" placeholder="Your Name">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label for="reg-year">Year</label>
                        <select id="reg-year">
                            <option value="1st Year">1st Year</option>
                            <option value="2nd Year">2nd Year</option>
                            <option value="3rd Year">3rd Year</option>
                            <option value="4th Year">4th Year</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label for="reg-batch">Batch</label>
                        <input type="text" id="reg-batch" placeholder="e.g. B14">
                    </div>
                </div>

				<div>
					<label for="password">Password</label>
					<input type="password" id="password" required placeholder="Enter Password">
				</div>
                <div style="text-align: right; display:flex; justify-content:space-between; margin-top:5px;">
                    <span id="toggle-auth-btn" class="toggle-auth-link">Create New Account</span>
				    <a href="mailto:kshaurya209@gmail.com?subject=CICR%20Password%20Reset" class="forgot-password-link">Forgot Password?</a>
                </div>
				<button type="button" id="login-btn">LOGIN</button>
			</form>
			<p id="login-error" style="color:var(--color-danger); margin-top:15px; display:none; font-size:13px; font-weight:600;">ACCESS DENIED. INVALID CREDENTIALS.</p>
		</div>
	</div>
Â  Â Â 
	<div id="app-content" style="display: none;">
Â  Â  Â  Â  <nav class="tab-navigation" role="tablist">
Â  Â  Â  Â  Â  Â  <a class="tab-link active" data-tab="attendance" role="tab" aria-selected="true">ATTENDANCE</a>
Â  Â  Â  Â  Â  Â  <a class="tab-link" data-tab="history" role="tab" aria-selected="false">LOGS</a>
Â  Â  Â  Â  Â  Â  <a class="tab-link" data-tab="reports" role="tab" aria-selected="false">ANALYTICS</a>
Â  Â  Â  Â  Â  Â  <a class="tab-link" data-tab="projects" role="tab" aria-selected="false">PROJECTS</a>
            <a class="tab-link" data-tab="chat" role="tab" aria-selected="false">COMMUNITY</a>
Â  Â  Â  Â  Â  Â  <a class="tab-link" data-tab="scheduling" role="tab" aria-selected="false">SCHEDULING</a>
Â  Â  Â  Â  Â  Â  <a class="tab-link" data-tab="admin" role="tab" aria-selected="false">ADMIN</a>
            <a class="tab-link" data-tab="account" role="tab" aria-selected="false">MY ACCOUNT</a>
Â  Â  Â  Â  </nav>

		<div class="main-content">
Â  Â  Â  Â  Â  Â  <section id="attendance-content" class="tab-content active" role="tabpanel">
				<div id="attendance-card" class="energy-frame">
					<h2 id="attendance-heading">Attendance Sheet</h2>
					<div class="controls-container">
						<div>
							<label for="attendance-date">Session Date</label>
							<div class="date-picker-wrapper">
								<input type="date" id="attendance-date" />
								<button type="button" id="open-calendar-btn">ðŸ“…</button>
							</div>
						</div>
						<div>
							<label for="attendance-taker-select">Recorded By</label>
							<select id="attendance-taker-select"><option value="" disabled selected>-- Select Member --</option></select>
						</div>
						<div>
							<label for="year-select">Group Filter (Select Multiple)</label>
                            <p style="font-size:10px; margin:0; color:#888;">* Hold Ctrl/Cmd to select multiple</p>
							<select id="year-select" multiple size="4"></select>
						</div>
						<div>
							<label for="attendance-subject">Meeting Topic</label>
							<select id="attendance-subject" onchange="handleTopicChange()">
								<option value="Research Strategy" selected>Research Strategy Session</option>
								<option value="Patent Review">Patent Review Committee</option>
								<option value="Budget Planning">Quarterly Budget Planning</option>
								<option value="Project Update">Project Progress Update</option>
								<option value="Other">Other Meeting Topic</option>
							</select>
							<input type="text" id="custom-topic-input" placeholder="Enter Custom Topic" style="display:none; margin-top:5px;" />
						</div>
						<div class="full-span">
							<label for="meeting-summary">Meeting Summary</label>
							<textarea id="meeting-summary" rows="3" placeholder="Enter brief summary..."></textarea>
						</div>
						<div class="full-span">
							<button id="create-gmeet-btn">Google Meet & Calendar Link</button>
						</div>
					</div>
					<p class="current-class-display">Current Session: <strong id="current-subject-display" style="color: var(--color-accent);">Research Strategy Session</strong></p>
					<ul id="attendance-list"><li>Select a Group Filter to load members.</li></ul>
					<div id="attendance-summary" class="summary-card">
						<div class="summary-header" style="display: flex; justify-content: space-between; align-items: center;">
							<h3 style="margin: 0; color: var(--color-accent);">Metrics</h3>
							<button id="save-data-btn" class="status-button btn-save">Save Data</button>
						</div>
						<div class="summary-totals">
							<p>Total Present: <strong id="total-present" style="color: #fff;">0</strong></p>
							<p>Total Absent: <strong id="total-absent" style="color: #fff;">0</strong></p>
							<p>Ratio: <strong id="present-percentage" class="percentage-value">0.0%</strong></p>
						</div>
						<h4 style="margin-top:15px; font-size:14px; color: #ddd;">Absentees:</h4>
						<ul id="absent-list" style="list-style-type: none; padding-left: 0; color: var(--color-danger);"><li>-</li></ul>
					</div>
				</div>
			</section>

Â  Â  Â  Â  Â  Â  <section id="history-content" class="tab-content" role="tabpanel">
				<div id="history-card" class="energy-frame">
					<h2 id="history-heading">Meeting Logs</h2>
					<div class="history-controls" style="display: flex; gap: 10px; margin-bottom: 20px;">
						<button id="export-excel-btn" class="btn-utility btn-export-excel">Export CSV (Excel)</button>
						<button id="remove-selected-btn" class="btn-utility btn-remove-selected">Delete Selected</button>
						<button id="clear-history-btn" class="btn-utility btn-clear-history">Clear All</button>
					</div>
					<ul id="history-list" class="history-list" style="list-style: none; padding:0;"><li>Loading...</li></ul>
				</div>
			</section>

Â  Â  Â  Â  Â  Â  <section id="reports-content" class="tab-content" role="tabpanel">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="personal-report-card" class="energy-frame">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 id="report-heading">Performance Analytics</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="table-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <table id="personal-report-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead><tr><th>Member Name</th><th>Group</th><th style="text-align: right;">Attendance %</th></tr></thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="personal-report-body"><tr><td colspan="3">Calculations Pending...</td></tr></tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </section>

            <section id="projects-content" class="tab-content" role="tabpanel">
                <div class="energy-frame">
                    <h2>Add New Project</h2>
                    <div class="controls-container">
                        <div>
                            <label for="project-name">Project Name</label>
                            <input type="text" id="project-name" placeholder="Enter Project Name">
                        </div>
                        <div>
                            <label for="project-type">Project Status/Type</label>
                            <select id="project-type">
                                <option value="live">Live Project</option>
                                <option value="recent">Recent Project</option>
                            </select>
                        </div>
                        <div class="full-span">
                            <label for="project-members">Team Members (Names)</label>
                            <input type="text" id="project-members" placeholder="e.g. Kumar Shaurya, Archit Jain, ...">
                        </div>
                        <div class="full-span">
                            <label for="project-link">Project Link (URL)</label>
                            <input type="url" id="project-link" placeholder="https://github.com/...">
                        </div>
                        <div>
                            <label for="project-start">Start Date</label>
                            <div class="date-picker-wrapper">
                                <input type="date" id="project-start">
                                <button type="button" id="open-calendar-start-btn">ðŸ“…</button>
                            </div>
                        </div>
                        <div>
                            <label for="project-end">End Date</label>
                            <div class="date-picker-wrapper">
                                <input type="date" id="project-end">
                                <button type="button" id="open-calendar-end-btn">ðŸ“…</button>
                            </div>
                        </div>
                        <div class="full-span">
                            <button id="add-project-btn">Add to Database</button>
                        </div>
                    </div>
                </div>

                <div class="energy-frame">
                    <h2 style="color: var(--color-success);">Live Projects</h2>
                    <div id="live-projects-list">
                        <p style="opacity:0.6; font-size:13px;">No live projects active.</p>
                    </div>
                </div>

                <div class="energy-frame">
                    <h2 style="color: var(--color-accent-dim);">Recent Projects</h2>
                    <div id="recent-projects-list">
                        <p style="opacity:0.6; font-size:13px;">No recent projects logged.</p>
                    </div>
                </div>
            </section>

            <section id="chat-content" class="tab-content" role="tabpanel">
                <div class="energy-frame chat-wrapper">
                    <h2>CICR Secure Channel</h2>
                    <p style="font-size: 11px; color: #888; margin-top:-15px; margin-bottom: 20px;">* Note: This secure channel stores data locally. It is for internal logging purposes.</p>
                    <div id="chat-display" class="chat-display">
                        </div>
                    <div class="chat-controls">
                        <input type="text" id="chat-input" placeholder="Transmit message to channel...">
                        <button id="chat-send-btn">SEND</button>
                    </div>
                </div>
            </section>

Â  Â  Â  Â  Â  Â  <section id="scheduling-content" class="tab-content" role="tabpanel">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="scheduling-card" class="energy-frame">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Email Scheduler</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="scheduling-grid">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="schedule-initiator-select">Sender</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="schedule-initiator-select"><option value="" disabled selected>-- Select Sender --</option></select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="schedule-recipient-select">Recipient</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="schedule-recipient-select"><option value="" disabled selected>-- Select Recipient --</option></select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label>Sender Email</label><input type="email" id="sender-email" placeholder="sender@gmail.com"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label>Recipient Email</label><input type="text" id="recipient-email" placeholder="recipient@email.com"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="full-span"><label>Subject</label><input type="text" id="schedule-subject" placeholder="Meeting Subject"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
							<label>Date</label>
							<div class="date-picker-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  	<input type="date" id="schedule-date">
								<button type="button" id="open-calendar-scheduler-btn">ðŸ“…</button>
							</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
						<div><label>Time</label><input type="time" id="schedule-time" value="10:00"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>Location Type</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="schedule-location-type"><option value="Online">Online</option><option value="Offline">Offline</option></select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label>Details</label><input type="text" id="schedule-location-details" placeholder="Link or Room No"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="full-span"><button id="schedule-meeting-btn">Generate & Send</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </section>

Â  Â  Â  Â  Â  Â  <section id="admin-content" class="tab-content" role="tabpanel">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="admin-tools-wrapper">
                    <div id="group-management-card" class="energy-frame">
                        <h3>Unit / Group Management</h3>
                        <div class="member-control-grid">
                            <div class="full-span"><label>Add New Group</label><input type="text" id="new-permanent-group" placeholder="e.g. Research Subunit Beta"></div>
                            <div class="full-span" style="padding-top:5px;"><button id="add-permanent-group-btn">Add Group</button></div>
                        </div>
                    </div>
                    <div id="member-management-card" class="energy-frame">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>User Database Management</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="member-control-grid">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label>New User Name</label><input type="text" id="new-member-name" placeholder="e.g. Anil Sharma"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label>Assign Unit</label><select id="new-member-group"></select></div>
                            <div class="full-span" id="custom-group-input-wrapper" style="display:none;"><label>Custom Unit Name</label><input type="text" id="custom-group-input"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="grid-column: span 2;"><button id="add-member-btn">Add User</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="member-control-group full-span"><label>Remove User</label><select id="remove-member-select"></select></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="padding-top:15px;" class="full-span"><button id="remove-member-btn">Remove User</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </section>

            <section id="account-content" class="tab-content" role="tabpanel">
                <div class="energy-frame">
                    <h2>My Profile</h2>
                    <div class="profile-grid">
                        <div class="full-span" style="text-align:center;">
                            <div style="width: 100px; height: 100px; margin: 0 auto 10px; border-radius:50%; border:2px solid var(--color-accent); overflow:hidden; position:relative;">
                                <div id="profile-preview" style="width:100%; height:100%; background:#222; background-size:cover; background-position:center;"></div>
                            </div>
                            <label for="profile-pic-input" style="cursor:pointer; color:var(--color-accent); text-decoration:underline;">Upload Photo</label>
                            <input type="file" id="profile-pic-input" accept="image/*" style="display:none;">
                        </div>

                        <div>
                            <label>User ID (Email/Phone)</label>
                            <input type="text" id="profile-id" disabled style="opacity: 0.6;">
                        </div>
                        <div>
                            <label>Full Name</label>
                            <input type="text" id="profile-name">
                        </div>
                        <div>
                            <label>Year</label>
                            <select id="profile-year">
                                <option value="1st Year">1st Year</option>
                                <option value="2nd Year">2nd Year</option>
                                <option value="3rd Year">3rd Year</option>
                                <option value="4th Year">4th Year</option>
                            </select>
                        </div>
                        <div>
                            <label>Batch</label>
                            <input type="text" id="profile-batch">
                        </div>
                        <div class="full-span" style="margin-top: 10px;">
                            <button id="update-profile-btn">Save Changes</button>
                        </div>
                        <div class="full-span" style="border-top: 1px solid #333; margin-top: 20px; padding-top: 20px;">
                            <button id="logout-btn">LOGOUT</button>
                        </div>
                    </div>
                </div>
            </section>
		</div>

		<footer class="footer" role="contentinfo" style="padding: 20px; text-align: center; font-size: 13px; color: rgba(255,255,255,0.4); border-top: 1px solid #333; margin-top: 40px; background: rgba(0,0,0,0.4);">
			<p id="attendance-taken-by">Attendance Recorded By: [None Selected]</p>
		</footer>
	</div>
	</div>

<script src="js/config.js"></script>
<script src="js/auth.js"></script>
<script src="js/attendance.js"></script>
<script src="js/projects.js"></script>
<script src="js/chat.js"></script>
<script src="js/ui.js"></script>
<script src="js/init.js"></script>
</body>
</html>
